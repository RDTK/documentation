

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Templates &mdash; RDTK  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/dummy-1.jpg"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="FAQ" href="../../faq.html" />
    <link rel="prev" title="Distribution Recipes" href="distribution.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> RDTK
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../vision_concept.html">Vision and Concept</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../updating.html">Updating the RDTK Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../reference.html">Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../recipes.html">Recipes</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="project.html">Project Recipes</a></li>
<li class="toctree-l3"><a class="reference internal" href="distribution.html">Distribution Recipes</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Templates</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#template-syntax">Template Syntax</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../recipes.html#variables-and-the-substitution-sub-language">Variables and the Substitution Sub-Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../recipes.html#access-and-credentials">Access and Credentials</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RDTK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../reference.html">Reference</a> &raquo;</li>
        
          <li><a href="../recipes.html">Recipes</a> &raquo;</li>
        
      <li>Templates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/reference/recipes/template.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            

  
  <div class="section" id="templates">
<span id="recipes-template"></span><h1>Templates<a class="headerlink" href="#templates" title="Permalink to this headline">¶</a></h1>
<p>Templates describe generic properties for certain recurring aspects of
<a class="reference internal" href="../../glossary.html#term-project"><span class="xref std std-term">projects</span></a>. These could be build system instructions
or common settings for redmine instances.</p>
<p>Templates are separated into distinct modes which describe completely
disparate usage purposes and therefore end up in differently
configured Jenkins build jobs. This separation is achieved through
distinct directory structures. The different directories are described
in the following:</p>
<p><code class="file docutils literal notranslate"><span class="pre">_common</span></code></p>
<blockquote>
<div>Contains templates that are shared by all distinct modes. This
directory cannot be used as a generator mode. In case a specific
mode uses a template from this directory, it is symlinked into that
mode’s directory.</div></blockquote>
<p><code class="file docutils literal notranslate"><span class="pre">toolkit</span></code></p>
<blockquote>
<div>Describes a mode that can be used to generate build jobs which are
able to bootstrap a complete software distribution from scratch by
installing it to a shared filesystem prefix.  Therefore, the Jenkins
jobs are orchestrated by a buildflow job which triggers the distinct
jobs per software project in the appropriate order. No polling of
SCM is performed in this mode and jobs have to be triggered manually
via the Jenkins interface.</div></blockquote>
<p><code class="file docutils literal notranslate"><span class="pre">ci-deploy</span></code></p>
<blockquote>
<div>This mode is used to continuously update a software distribution
installed in a shared prefix whenever an SCM change to a software
component appeared. This mode does not handle the bootstrapping
phase correctly as it starts building software projects whenever a
change is detected or an upstream project’s build finished.</div></blockquote>
<p><code class="file docutils literal notranslate"><span class="pre">ci</span></code></p>
<blockquote>
<div>Continuous integration mode for continuously building and testing
software without installing it to a distinct filesystem prefix.
Artifact copying is used between build job workspaces to handle
dependency resolution.</div></blockquote>
<div class="section" id="template-syntax">
<h2>Template Syntax<a class="headerlink" href="#template-syntax" title="Permalink to this headline">¶</a></h2>
<p>A typical template description looks as follows</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="nt">inherit</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">foo-template</span>

<span class="nt">variables</span><span class="p">:</span>
  <span class="nt">natures</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">cmake</span>

<span class="nt">aspects</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span>   <span class="l l-Scalar l-Scalar-Plain">cmake-cpp.cmake/unix</span>
    <span class="nt">aspect</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">cmake/unix</span>
    <span class="nt">conditions</span><span class="p">:</span>
      <span class="nt">unix</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">.*</span>
    <span class="nt">variables</span><span class="p">:</span>
      <span class="nt">aspect.cmake.environment</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${cmake.environment|}</span>
      <span class="nt">aspect.cmake.options</span><span class="p">:</span>     <span class="l l-Scalar l-Scalar-Plain">${cmake.options}</span>
      <span class="nt">aspect.cmake.targets</span><span class="p">:</span>     <span class="l l-Scalar l-Scalar-Plain">${cmake.targets}</span>

  <span class="nt">jobs</span><span class="p">:</span>
    <span class="p p-Indicator">-</span> <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">toolkit</span>
      <span class="nt">tags</span><span class="p">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">toolkit</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">architecture-dependent</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">gcc</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">unix</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">linux</span>
      <span class="nt">variables</span><span class="p">:</span>
        <span class="nt">build-job-name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">${project-name}-${version-name}-toolkit-${distribution-name}</span>
        <span class="nt">cmake.environment</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">PKG_CONFIG_PATH=&quot;${toolkit.dir}/lib/pkgconfig:\${PKG_CONFIG_PATH}&quot;</span>
          <span class="p p-Indicator">-</span> <span class="s">&quot;@{next-value|[]}&quot;</span>
        <span class="nt">cmake.options</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CMAKE_INSTALL_PREFIX=&quot;${toolkit.dir}&quot;</span>

          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CMAKE_BUILD_TYPE=RelWithDebInfo</span>

          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CMAKE_SKIP_BUILD_RPATH=FALSE</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CMAKE_BUILD_WITH_INSTALL_RPATH=FALSE</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CMAKE_INSTALL_RPATH=&quot;${toolkit.dir}/lib&quot;</span>

          <span class="p p-Indicator">-</span> <span class="s">&quot;@{next-value|[]}&quot;</span>
        <span class="nt">cmake.targets</span><span class="p">:</span>
          <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">install</span>
</pre></div>
</div>
<p>The following fields are most important:</p>
<p><code class="samp docutils literal notranslate"><em><span class="pre">FILENAME</span></em></code></p>
<blockquote>
<div><p>This is not an actual field but the name of the <a class="reference internal" href="../../glossary.html#term-recipe"><span class="xref std std-term">recipe file</span></a> with its extension removed (e.g. <code class="docutils literal notranslate"><span class="pre">cmake-cpp</span></code> for a
<a class="reference internal" href="../../glossary.html#term-recipe"><span class="xref std std-term">recipe file</span></a> named <code class="file docutils literal notranslate"><span class="pre">cmake-cpp.template</span></code>).</p>
<p>Name of the template describing its purpose.</p>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">variables</span></code></p>
<blockquote>
<div>Variables specific to this template.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">variables</span></code> » <code class="docutils literal notranslate"><span class="pre">kind</span></code></p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&quot;project&quot;</span></code></p>
<blockquote>
<div>“normal” project job</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">&quot;matrix&quot;</span></code></p>
<blockquote>
<div>matrix job</div></blockquote>
<p><code class="samp docutils literal notranslate"><span class="pre">[</span> <span class="pre">&quot;</span><em><span class="pre">ELEMENT-NAME</span></em><span class="pre">&quot;,</span> <span class="pre">&quot;</span><em><span class="pre">PLUGIN-NAME&#64;PLUGIN-VERSION</span></em><span class="pre">&quot;</span> <span class="pre">]</span></code></p>
<blockquote>
<div>arbitrary kind</div></blockquote>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">aspects</span></code></p>
<blockquote>
<div><a class="reference internal" href="../../glossary.html#term-aspect"><span class="xref std std-term">Aspects</span></a> are specific configuration fragments to
include in the generated Jenkins jobs.</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">jobs</span></code></p>
<blockquote>
<div>The kind of Jenkins jobs to generate for projects that have this
template assigned.</div></blockquote>
</div>
</div>



  


           </div>
           
          </div>
          <footer>
    <div role="contentinfo">
        <span class="creativecommons">
            <a rel="license"
               href="http://creativecommons.org/licenses/by/4.0/">
                <img alt="Creative Commons License"
                     style="border-width:0; height:15px; width:80px;" 
                     src="https://i.creativecommons.org/l/by/4.0/80x15.png"/></a>
            <span xmlns:dct="http://purl.org/dc/terms/"
                  href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title"
                  rel="dct:type">
                The RDTK documentation
            </span>
            is licensed under a
            <a rel="license"
               href="http://creativecommons.org/licenses/by/4.0/">
                Creative Commons Attribution 4.0 International License
            </a>.
        </span>
        <span class="lastupdated">
            Last updated on None.
        </span>
    </div>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>